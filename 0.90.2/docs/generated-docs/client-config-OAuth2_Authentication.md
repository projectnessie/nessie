| Property | Description |
|----------|-------------|
| `nessie.authentication.oauth2.issuer-url` | OAuth2 issuer URL. <br><br>The root URL of the OpenID Connect identity issuer provider, which will be used for  discovering supported endpoints and their locations. For Keycloak, this is typically the realm  URL: `https://<keycloak-server>/realms/<realm-name>`.   <br><br>Endpoint discovery is performed using the OpenID Connect Discovery metadata published by the  issuer. See [OpenID Connect  Discovery 1.0 ](https://openid.net/specs/openid-connect-discovery-1_0.html) for more information.   <br><br>Either this property or (`nessie.authentication.oauth2.token-endpoint`) must be set.  |
| `nessie.authentication.oauth2.token-endpoint` | URL of the OAuth2 token endpoint. For Keycloak, this is typically `https://<keycloak-server>/realms/<realm-name>/protocol/openid-connect/token` .   <br><br>Either this property or (`nessie.authentication.oauth2.issuer-url`) must be set. In case it is  not set, the token endpoint will be discovered from the issuer URL (`nessie.authentication.oauth2.issuer-url`), using the OpenID Connect Discovery metadata published by the issuer. |
| `nessie.authentication.oauth2.auth-endpoint` | URL of the OAuth2 authorization endpoint. For Keycloak, this is typically `https://<keycloak-server>/realms/<realm-name>/protocol/openid-connect/auth` .   <br><br>If using the "authorization_code" grant type, either this property or (`nessie.authentication.oauth2.issuer-url`) must be set. In case it is not set, the authorization endpoint  will be discovered from the issuer URL (`nessie.authentication.oauth2.issuer-url`), using the OpenID  Connect Discovery metadata published by the issuer.  |
| `nessie.authentication.oauth2.device-auth-endpoint` | URL of the OAuth2 device authorization endpoint. For Keycloak, this is typically `http://<keycloak-server>/realms/<realm-name>/protocol/openid-connect/auth/device` .   <br><br>If using the "Device Code" grant type, either this property or (`nessie.authentication.oauth2.issuer-url`) must be set.  |
| `nessie.authentication.oauth2.grant-type` | The grant type to use when authenticating against the OAuth2 server. Valid values are:   <br><br> * "client_credentials" <br> * "password" <br> * "authorization_code" <br> * "device_code" <br><br>Optional, defaults to "client_credentials".   <br><br>Depending on the grant type, different properties must be provided.   <br><br>For the "client_credentials" grant type, the following properties must be provided:   <br><br> * token endpoint (nessie.authentication.oauth2.token-endpoint) or issuer URL (nessie.authentication.oauth2.issuer-url) <br> * client ID (nessie.authentication.oauth2.client-id) <br> * client secret (nessie.authentication.oauth2.client-secret) (if required)  <br><br>For the "password" grant type, the following properties must be provided:   <br><br> * token endpoint (nessie.authentication.oauth2.token-endpoint) or issuer URL (nessie.authentication.oauth2.issuer-url) <br> * client ID (nessie.authentication.oauth2.client-id) <br> * client secret (nessie.authentication.oauth2.client-secret) (if required)    <br> * username (nessie.authentication.oauth2.username) <br> * password (nessie.authentication.oauth2.password) <br><br>For the "authorization_code" grant type, the following properties must be provided:   <br><br> * token endpoint (nessie.authentication.oauth2.token-endpoint) or issuer URL (nessie.authentication.oauth2.issuer-url) <br> * authorization endpoint (nessie.authentication.oauth2.auth-endpoint) or issuer URL (nessie.authentication.oauth2.issuer-url) <br> * client ID (nessie.authentication.oauth2.client-id) <br> * client secret (nessie.authentication.oauth2.client-secret) (if required)  <br><br>For the "device_code" grant type, the following properties must be provided:   <br><br> * token endpoint (nessie.authentication.oauth2.token-endpoint) or issuer URL (nessie.authentication.oauth2.issuer-url) <br> * device authorization endpoint (nessie.authentication.oauth2.device-auth-endpoint) or        issuer URL (nessie.authentication.oauth2.issuer-url) <br> * client ID (nessie.authentication.oauth2.client-id) <br> * client secret (nessie.authentication.oauth2.client-secret) (if required)  <br><br>Both client and user must be properly configured with appropriate permissions in the OAuth2  server for the authentication to succeed.  |
| `nessie.authentication.oauth2.client-id` | Client ID to use when authenticating against the OAuth2 server. Required if using OAuth2  authentication, ignored otherwise.  |
| `nessie.authentication.oauth2.client-secret` | Client secret to use when authenticating against the OAuth2 server. Required if using OAuth2  authentication, ignored otherwise.  |
| `nessie.authentication.oauth2.username` | Username to use when authenticating against the OAuth2 server. Required if using OAuth2  authentication and "password" grant type, ignored otherwise.  |
| `nessie.authentication.oauth2.password` | Password to use when authenticating against the OAuth2 server. Required if using OAuth2  authentication and the "password" grant type, ignored otherwise.  |
| `nessie.authentication.oauth2.default-access-token-lifespan` | Default access token lifespan; if the OAuth2 server returns an access token without specifying  its expiration time, this value will be used.  <br><br>Optional, defaults to "PT1M". Must be a valid [ISO-8601 duration](https://en.wikipedia.org/wiki/ISO_8601#Durations). |
| `nessie.authentication.oauth2.default-refresh-token-lifespan` | Default refresh token lifespan. If the OAuth2 server returns a refresh token without specifying  its expiration time, this value will be used.   <br><br>Optional, defaults to "PT30M". Must be a valid [ISO-8601 duration](https://en.wikipedia.org/wiki/ISO_8601#Durations). |
| `nessie.authentication.oauth2.refresh-safety-window` | Refresh safety window to use; a new token will be fetched when the current token's remaining  lifespan is less than this value.  Optional, defaults to "PT10S". Must be a valid [ISO-8601 duration](https://en.wikipedia.org/wiki/ISO_8601#Durations). |
| `nessie.authentication.oauth2.preemptive-token-refresh-idle-timeout` | Defines for how long the OAuth2 provider should keep the tokens fresh, if the client is not  being actively used.  Setting this value too high may cause an excessive usage of network I/O  and thread resources; conversely, when setting it too low, if the client is used again, the  calling thread may block if the tokens are expired and need to be renewed synchronously.  Optional, defaults to "PT30S". Must be a valid  [ISO-8601 duration](https://en.wikipedia.org/wiki/ISO_8601#Durations). |
| `nessie.authentication.oauth2.background-thread-idle-timeout` | Defines how long the background thread should be kept running if the client is not being  actively used, or no token refreshes are being executed.  Optional, defaults to "PT30S". Setting this value too high will cause the background  thread to keep running even if the client is not used anymore, potentially leaking thread and  memory resources; conversely, setting it too low could cause the background thread to be  restarted too often. Must be a valid [ISO-8601 duration](https://en.wikipedia.org/wiki/ISO_8601#Durations). |
| `nessie.authentication.oauth2.client-scopes` | Space-separated list of scopes to include in each request to the OAuth2 server. Optional,  defaults to empty (no scopes).   <br><br>The scope names will not be validated by the Nessie client; make sure they are valid  according to [RFC 6749  Section 3.3 ](https://datatracker.ietf.org/doc/html/rfc6749#section-3.3). |
| `nessie.authentication.oauth2.token-exchange-enabled` | Enables token exchange, if set to `true`, the Nessie client will attempt to exchange  access tokens for refresh tokens whenever appropriate.  This, however, can only work if the  OAuth2 server supports token exchange. Optional, defaults to `true` (enabled).   <br><br>Note that recent versions of Keycloak support token exchange, but it is disabled by default.  See [Using  token exchange ](https://www.keycloak.org/docs/latest/securing_apps/index.html#internal-token-to-internal-token-exchange) for more information and how to enable this feature.  |
| `nessie.authentication.oauth2.auth-code-flow.web-port` | Port of the OAuth2 authorization code flow web server. <br><br>When running a client inside a container make sure to specify a port and forward the port to  the container host.   <br><br>The port used for the internal web server that listens for the authorization code callback.  This is only used if the grant type to use is "authorization_code".   <br><br>Optional; if not present, a random port will be used. |
| `nessie.authentication.oauth2.auth-code-flow.timeout` | Defines how long the client should wait for the authorization code flow to complete. This is  only used if the grant type to use is "authorization_code". Optional, defaults to "PT5M". |
| `nessie.authentication.oauth2.device-code-flow.timeout` | Defines how long the client should wait for the device code flow to complete. This is only used  if the grant type to use is "device_code". Optional,  defaults to "PT5M". |
| `nessie.authentication.oauth2.device-code-flow.poll-interval` | Defines how often the client should poll the OAuth2 server for the device code flow to  complete.  This is only used if the grant type to use is "device_code". Optional, defaults to "PT5S". |
